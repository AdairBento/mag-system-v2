=== AUDIT NEXT LINT (who injects 'lint' arg) ===
ROOT: C:\Users\adair\PycharmProject\mag-system-v2
DATE: 02/16/2026 07:08:57


--- 1) pnpm scripts (apps/web/package.json + root package.json) ---


FILE: apps/web/package.json
dev = next dev
build = next build
start = next start
test = echo "No tests configured for web app" && exit 0
test:cov = echo "No tests configured for web app" && exit 0
type-check = tsc --noEmit
lint = next lint --dir src --dir app
lint:strict = eslint "src/**/*.{ts,tsx,js,jsx}" --max-warnings=0

FILE: package.json
dev = turbo run dev
dev:api = turbo run dev --filter=@mag-system/api
dev:web = turbo run dev --filter=@mag-system/web
build = turbo run build
build:api = turbo run build --filter=@mag-system/api
build:web = turbo run build --filter=@mag-system/web
lint = turbo run lint
type-check = turbo run type-check
test = turbo run test
test:watch = turbo run test:watch
clean = turbo run clean && rm -rf node_modules .turbo
db:generate = turbo run db:generate --filter=@mag-system/database
db:migrate = cd packages/database && pnpm prisma migrate dev
db:studio = cd packages/database && pnpm prisma studio
db:seed = cd packages/database && pnpm prisma:seed
db:reset = cd packages/database && pnpm prisma migrate reset
format = prettier --write "**/*.{ts,tsx,js,jsx,json,md}"
prepare = husky install
test:cov = turbo run test:cov
release = semantic-release
release:dry = semantic-release --dry-run
changelog = conventional-changelog -p angular -i CHANGELOG.md -s
verify = pwsh -NoProfile -File ./scripts/verify-tests-layout.ps1 && pnpm type-check && pnpm lint && pnpm test
verify:api-tests-layout = pwsh -NoProfile -File ./scripts/verify-tests-layout.ps1

--- 2) turbo.json (lint pipeline + args) ---

{
  "$schema": "https://turbo.build/schema.json",
  "globalEnv": [
    "DATABASE_URL",
    "NODE_ENV"
  ],
  "globalDependencies": [
    ".env",
    "tsconfig.json"
  ],
  "tasks": {
    "build": {
      "dependsOn": [
        "^build"
      ],
      "outputs": [
        "dist/**",
        ".next/**",
        "!.next/cache/**"
      ]
    },
    "dev": {
      "cache": false,
      "persistent": true
    },
    "lint": {
      "dependsOn": [
        "^lint"
      ],
      "outputs": []
    },
    "type-check": {
      "dependsOn": [
        "^type-check"
      ],
      "outputs": []
    },
    "test": {
      "dependsOn": [
        "^build"
      ],
      "outputs": []
    },
    "test:cov": {
      "dependsOn": [
        "^build"
      ],
      "outputs": [
        "coverage/**",
        "apps/*/coverage/**"
      ]
    },
    "db:generate": {
      "cache": false,
      "outputs": [
        "node_modules/.prisma/**"
      ]
    },
    "clean": {
      "cache": false
    }
  }
}


--- 3) Search in repo for next lint usage / ' lint' arg injection ---

C:\Users\adair\PycharmProject\mag-system-v2\apps\api\package.json:10  "lint": "eslint \"{src,apps,libs,test}/**/*.ts\" --fix",
C:\Users\adair\PycharmProject\mag-system-v2\apps\web\.turbo\turbo-lint.log:3  > next lint --dir src --dir app
C:\Users\adair\PycharmProject\mag-system-v2\apps\web\package.json:12  "lint": "next lint --dir src --dir app",
C:\Users\adair\PycharmProject\mag-system-v2\apps\web\package.json.bak.20260215-200544:12  "lint": "next lint",
C:\Users\adair\PycharmProject\mag-system-v2\package.json:16  "lint": "turbo run lint",
C:\Users\adair\PycharmProject\mag-system-v2\packages\core\package.json:14  "lint": "eslint src --ext .ts,.tsx --fix",
C:\Users\adair\PycharmProject\mag-system-v2\turbo.json:26  "lint": {

--- 4) next.config.* in apps/web (check eslint.dirs etc) ---


FILE: C:\Users\adair\PycharmProject\mag-system-v2\apps\web\next.config.js
/** @type {import('next').NextConfig} */
const nextConfig = {
  transpilePackages: ['@mag-system/core'],
  reactStrictMode: true,
  env: {
    NEXT_PUBLIC_API_URL: process.env.NEXT_PUBLIC_API_URL || 'http://localhost:3001',
  },
};

module.exports = nextConfig;


--- 5) What 'next' executable is being used inside apps/web ---

PNPM_* / npm_config_* / TURBO_* / NODE_OPTIONS / PATH:
Scope: 2 of 8 workspace projects
apps/web lint$ next lint --dir src --dir app "--reporter=append-only"
. lint$ turbo run lint "--reporter=append-only"
. lint:  ERROR  unexpected argument '--reporter' found
. lint:   tip: to pass '--reporter' as a value, use '-- --reporter'
. lint: Usage: turbo.exe run [OPTIONS] [TASKS]... [-- <PASS_THROUGH_ARGS>...]
. lint: Options:
. lint:     --cache-dir <CACHE_DIR>
. lint:     --concurrency <CONCURRENCY>
. lint:     --continue[=<CONTINUE>]
. lint:     --single-package
. lint:     --framework-inference [<BOOL>]
. lint:     --global-deps <GLOBAL_DEPS>
. lint:     --env-mode [<ENV_MODE>]
. lint:     --filter <FILTER>
. lint:     --affected
. lint:     --output-logs <OUTPUT_LOGS>
. lint:     --log-order <LOG_ORDER>
. lint:     --only
. lint:     --pkg-inference-root <PKG_INFERENCE_ROOT>
. lint:     --log-prefix <LOG_PREFIX>
. lint:     TASKS
. lint:     PASS_THROUGH_ARGS
. lint:     --cache <CACHE>
. lint:     --force [<FORCE>]
. lint:     --remote-only [<REMOTE_ONLY>]
. lint:     --remote-cache-read-only [<REMOTE_CACHE_READ_ONLY>]
. lint:     --no-cache <NO_CACHE>
. lint:     --cache-workers <CACHE_WORKERS>
. lint:     --dry-run [<DRY_RUN>]
. lint:     --graph [<GRAPH>]
. lint:     --daemon <DAEMON>
. lint:     --no-daemon <NO_DAEMON>
. lint:     --profile <PROFILE>
. lint:     --anon-profile <ANON_PROFILE>
. lint:     --summarize [<SUMMARIZE>]
. lint:     --parallel <PARALLEL>
. lint: For more information, try '--help'.
. lint: Failed
ÔÇëERR_PNPM_RECURSIVE_RUN_FIRST_FAILÔÇë mag-system-v2@2.4.0 lint: `turbo run lint "--reporter=append-only"`
Exit status 1

--- DONE ---


Report saved at: C:\Users\adair\PycharmProject\mag-system-v2\_audit-next-lint.txt
